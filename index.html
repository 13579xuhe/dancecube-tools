<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>舞立方自制谱谱师工具</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: #333;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* 头部区域 */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            padding: 20px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .logo-area {
            display: flex;
            align-items: center;
        }

        .logo {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.8rem;
            margin-right: 15px;
        }

        .logo-text h1 {
            font-size: 2rem;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .logo-text p {
            color: #7f8c8d;
            font-size: 0.95rem;
        }

        /* 搜索和筛选区域 */
        .search-filter {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            gap: 20px;
        }

        .search-box {
            flex: 1;
            position: relative;
            max-width: 500px;
        }

        .search-box input {
            width: 100%;
            padding: 16px 20px 16px 50px;
            border: none;
            border-radius: 15px;
            background-color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            font-size: 1rem;
            color: #333;
        }

        .search-box i {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #7f8c8d;
        }

        .filter-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .filter-tab {
            padding: 12px 25px;
            background-color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            color: #555;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }

        .filter-tab.active, .filter-tab:hover {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
        }

        /* 工具区域 */
        .tools-section {
            margin-bottom: 60px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .section-header h2 {
            font-size: 1.8rem;
            color: #2c3e50;
        }

        .section-header p {
            color: #7f8c8d;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 25px;
        }

        .tool-card {
            background-color: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .tool-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        .tool-card.featured {
            border-top: 5px solid #ff9a00;
        }

        .tool-card.new {
            border-top: 5px solid #6a11cb;
        }

        .tool-header {
            padding: 25px 25px 15px;
            display: flex;
            align-items: center;
        }

        .tool-icon {
            width: 70px;
            height: 70px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.8rem;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .tool-info h3 {
            font-size: 1.4rem;
            margin-bottom: 5px;
            color: #2c3e50;
        }

        .tool-info p {
            color: #7f8c8d;
            font-size: 0.95rem;
        }

        .tool-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            color: white;
        }

        .featured-badge {
            background-color: #ff9a00;
        }

        .new-badge {
            background-color: #6a11cb;
        }

        .tool-description {
            padding: 0 25px 20px;
            color: #666;
            line-height: 1.5;
            font-size: 0.95rem;
        }

        .tool-footer {
            padding: 20px 25px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .tool-stats {
            display: flex;
            gap: 15px;
        }

        .tool-stat {
            display: flex;
            align-items: center;
            color: #7f8c8d;
            font-size: 0.9rem;
        }

        .tool-stat i {
            margin-right: 5px;
        }

        .tool-action {
            padding: 10px 25px;
            background: linear-gradient(to right, #6a11cb, #2575fc);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .tool-action:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(37, 117, 252, 0.3);
        }

        /* 底部区域 */
        .footer {
            text-align: center;
            padding: 30px 0;
            color: #7f8c8d;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            font-size: 0.9rem;
        }

        /* 工具详情模态框 */
        .tool-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            padding: 20px;
        }

        .tool-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: white;
            border-radius: 25px;
            width: 100%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: translateY(30px);
            transition: transform 0.4s ease;
        }

        .tool-modal.active .modal-content {
            transform: translateY(0);
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 25px;
            background: none;
            border: none;
            font-size: 1.8rem;
            color: #7f8c8d;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            color: #e74c3c;
        }

        .modal-header {
            padding: 40px 40px 20px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #eee;
        }

        .modal-icon {
            width: 80px;
            height: 80px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.2rem;
            margin-right: 25px;
            flex-shrink: 0;
        }

        .modal-title h2 {
            font-size: 2rem;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .modal-title p {
            color: #7f8c8d;
            font-size: 1.1rem;
        }

        .modal-body {
            padding: 30px 40px;
        }

        .modal-section {
            margin-bottom: 30px;
        }

        .modal-section h3 {
            font-size: 1.4rem;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .modal-section p {
            line-height: 1.6;
            color: #555;
            margin-bottom: 15px;
        }

        .modal-features {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .modal-feature {
            display: flex;
            align-items: center;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 10px;
        }

        .modal-feature i {
            color: #2575fc;
            font-size: 1.2rem;
            margin-right: 12px;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .modal-btn {
            padding: 15px 30px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .modal-btn.primary {
            background: linear-gradient(to right, #6a11cb, #2575fc);
            color: white;
            border: none;
        }

        .modal-btn.secondary {
            background-color: #f8f9fa;
            color: #555;
            border: 1px solid #ddd;
        }

        .modal-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.1);
        }

        /* 响应式设计 */
        @media (max-width: 1100px) {
            .tools-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
            }

            .search-filter {
                flex-direction: column;
                align-items: flex-start;
            }

            .search-box {
                max-width: 100%;
            }

            .filter-tabs {
                width: 100%;
                overflow-x: auto;
                padding-bottom: 10px;
            }

            .modal-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .modal-icon {
                margin-bottom: 20px;
            }

            .modal-actions {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .tools-grid {
                grid-template-columns: 1fr;
            }

            .tool-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .tool-icon {
                margin-bottom: 15px;
            }

            .modal-body {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
<div class="container">
    <!-- 头部区域 -->
    <header class="header">
        <div class="logo-area">
            <div class="logo">
                <i class="fas fa-toolbox"></i>
            </div>
            <div class="logo-text">
                <h1>舞立方自制谱谱师工具（持续更新）</h1>
                <p>本页面工具已经测试，如有bug请联系：miqimiaomiaowushi@163.com</p>
            </div>
        </div>

    </header>

    <!-- 搜索区域 -->
    <div class="search-filter">
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="搜索工具或功能...">
            <i class="fas fa-search"></i>
        </div>
    </div>

    <!-- 所有工具区域 -->
    <section class="tools-section">
        <div class="section-header">
            <div>
                <h2>所有工具</h2>
                <p>选择您需要的工具</p>
            </div>
            <div>
                <p>共 <span id="toolCount">12</span> 个工具</p>
            </div>
        </div>

        <div class="tools-grid" id="toolsGrid">
            <!-- 工具卡片将通过JS动态生成 -->
        </div>
    </section>

    <!-- 底部区域 -->
    <footer class="footer">
        <p>2025 舞立方自制谱师工具 | 本页面由 Mouseke 进行开发 | 源码公开免费给大家使用 </p>
    </footer>
</div>

<!-- 工具详情模态框 -->
<div class="tool-modal" id="toolModal">
    <div class="modal-content">
        <button class="modal-close" id="modalClose">
            <i class="fas fa-times"></i>
        </button>

        <div class="modal-header">
            <div class="modal-icon" id="modalIcon">
                <i class="fas fa-palette"></i>
            </div>
            <div class="modal-title">
                <h2 id="modalToolName">设计编辑器</h2>
                <p id="modalToolCategory">设计工具 · 高级功能</p>
            </div>
        </div>

        <div class="modal-body">
            <div class="modal-section">
                <h3>工具描述</h3>
                <p id="modalToolDescription">这是一个功能强大的设计编辑器，提供丰富的设计工具和模板，帮助您快速创建精美的设计作品。支持实时协作、版本管理和多种导出格式。</p>
            </div>

            <div class="modal-section">
                <h3>主要功能</h3>
                <div class="modal-features" id="modalFeatures">
                    <!-- 功能列表将通过JS动态生成 -->
                </div>
            </div>

            <div class="modal-actions">
                <a class="modal-btn primary" id="openToolBtn" target="_blank">
                    <i class="fas fa-external-link-alt"></i> 打开工具
                </a>
            </div>
        </div>
    </div>
</div>

<script>
    // 工具数据 - 更新为舞立方相关的工具
    const toolsData = [
        {
            id: 1,
            name: "txt转mc/mcz",
            category: "exchange",
            description: "将txt文件转换为mc文件，并且支持打包为mcz文件",
            icon: "fas fa-music",
            iconColor: "#6a11cb",
            featured: true,
            features: ["自动转换", "不同小节转换", "自动计算偏移", "支持打包", "如果偏移不准请在游戏内重新测试"],
            url: "../txt-mc.html"
        },
        {
            id: 2,
            name: "歌曲封面剪裁",
            category: "cut",
            description: "将图片裁剪为可上传大小",
            icon: "fas fa-image",
            iconColor: "#117ecb",
            featured: true,
            features: ["自动裁剪", "jpg格式", "直接下载"],
            url: "../picturecut.html"
        },
        {
            id: 3,
            name: "标题图制作",
            category: "make",
            description: "绘制标题图图片",
            icon: "fas fa-heading",
            iconColor: "#cb6511",
            featured: true,
            features: ["自动绘制", "png格式", "直接下载"],
            url: "../maketitle.html"
        },
        {
            id: 4,
            name: "音频转换",
            category: "exchange",
            description: "转换音频格式",
            icon: "fas fa-compact-disc",
            iconColor: "#b811cb",
            featured: true,
            features: ["自动监测上传文件格式", "多格式转换", "直接下载", "自由选择比特率"],
            url: "../exchange-radio.html"
        },
        {
            id: 5,
            name: "ncm转换",
            category: "exchange",
            description: "转换ncm格式",
            icon: "fas fa-arrows-rotate",
            iconColor: "#ff0000",
            featured: true,
            features: ["自动转换ncm文件", "多文件转换", "直接下载", "仅供学习"],
            url: "../ncmexchange.html"
        },
        {
            id: 6,
            name: "mc/mcz转txt",
            category: "exchange",
            description: "将mc/mcz文件转换为mc文件，并且支持打包为zip文件",
            icon: "fas fa-right-left",
            iconColor: "#e600ff",
            featured: true,
            features: ["自动转换", "不同小节转换", "自动打包zip", "支持自动解包", "包含变速转换","支持自动下载","自动生成上传数据文本文件","禁止导入官方制谱器，否则后果自负"],
            url: "../mc-txt.html"
        },
        {
            id: 7,
            name: "免费mp3下载",
            category: "download",
            description: "免费下载歌曲mp3音频、封面等等",
            icon: "fa-solid fa-download",
            iconColor: "#2ba31d",
            featured: true,
            features: ["免费下载"],
            url: "https://www.myfreemp3.com.cn/"
        }
    ];

    // DOM元素
    const toolsGrid = document.getElementById('toolsGrid');
    const toolCount = document.getElementById('toolCount');
    const searchInput = document.getElementById('searchInput');
    const toolModal = document.getElementById('toolModal');
    const modalClose = document.getElementById('modalClose');
    const openToolBtn = document.getElementById('openToolBtn');

    // 当前选中的工具
    let currentToolId = null;

    // 初始化页面
    function initPage() {
        // 显示工具数量
        toolCount.textContent = toolsData.length;

        // 渲染所有工具
        renderTools(toolsData);

        // 设置事件监听器
        setupEventListeners();
    }

    // 渲染工具卡片
    function renderTools(tools) {
        toolsGrid.innerHTML = '';

        tools.forEach(tool => {
            const toolCard = document.createElement('div');
            toolCard.className = 'tool-card';
            toolCard.dataset.id = tool.id;
            toolCard.dataset.category = tool.category;

            // 添加特色或新标签
            if (tool.featured) {
                toolCard.classList.add('featured');
            }
            if (tool.new) {
                toolCard.classList.add('new');
            }

            toolCard.innerHTML = `
                <div class="tool-header">
                    <div class="tool-icon" style="background: linear-gradient(135deg, ${tool.iconColor}99, ${tool.iconColor});">
                        <i class="${tool.icon}"></i>
                    </div>
                    <div class="tool-info">
                        <h3>${tool.name}</h3>
                        <p>${getCategoryName(tool.category)}</p>
                    </div>
                    ${tool.featured ? '<div class="tool-badge featured-badge">实用</div>' : ''}
                    ${tool.new ? '<div class="tool-badge new-badge">新</div>' : ''}
                    ${tool.second ? '<div class="tool-badge new-badge">更新</div>' : ''}
                </div>
                <div class="tool-description">
                    ${tool.description}
                </div>
                <div class="tool-footer">
                    <a href="${tool.url}" class="tool-action" data-id="${tool.id}" target="_blank">
                        打开工具
                    </a>
                </div>
            `;

            toolsGrid.appendChild(toolCard);
        });

        // 为所有工具卡片添加点击事件（查看详情）
        document.querySelectorAll('.tool-card').forEach(card => {
            card.addEventListener('click', function(e) {
                // 如果点击的是打开工具按钮，则不触发详情查看
                if (e.target.classList.contains('tool-action') || e.target.closest('.tool-action')) {
                    return;
                }
                const toolId = parseInt(this.getAttribute('data-id'));
                openToolModal(toolId);
            });
        });
    }

    // 打开工具模态框
    function openToolModal(toolId) {
        const tool = toolsData.find(t => t.id === toolId);
        if (!tool) return;

        currentToolId = toolId;

        // 更新模态框内容
        document.getElementById('modalToolName').textContent = tool.name;
        document.getElementById('modalToolCategory').textContent = `${getCategoryName(tool.category)} · ${tool.featured ? '特色功能' : '标准功能'}`;
        document.getElementById('modalToolDescription').textContent = tool.description;
        document.getElementById('modalIcon').innerHTML = `<i class="${tool.icon}"></i>`;
        document.getElementById('modalIcon').style.background = `linear-gradient(135deg, ${tool.iconColor}99, ${tool.iconColor})`;

        // 更新功能列表
        const featuresContainer = document.getElementById('modalFeatures');
        featuresContainer.innerHTML = '';
        tool.features.forEach(feature => {
            const featureEl = document.createElement('div');
            featureEl.className = 'modal-feature';
            featureEl.innerHTML = `<i class="fas fa-check-circle"></i> <span>${feature}</span>`;
            featuresContainer.appendChild(featureEl);
        });

        // 更新打开工具按钮的链接
        openToolBtn.href = tool.url;
        openToolBtn.setAttribute('target', '_blank');

        // 显示模态框
        toolModal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    // 关闭工具模态框
    function closeToolModal() {
        toolModal.classList.remove('active');
        document.body.style.overflow = 'auto';
    }

    // 直接打开工具（从模态框）
    function openToolDirectly() {
        if (!currentToolId) return;

        const tool = toolsData.find(t => t.id === currentToolId);
        if (!tool) return;

        // 在新标签页中打开工具链接
        window.open(tool.url, '_blank');
        closeToolModal();
    }

    // 设置事件监听器
    function setupEventListeners() {
        // 搜索功能
        searchInput.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            const filteredTools = toolsData.filter(tool =>
                tool.name.toLowerCase().includes(searchTerm) ||
                tool.description.toLowerCase().includes(searchTerm) ||
                getCategoryName(tool.category).toLowerCase().includes(searchTerm)
            );
            renderTools(filteredTools);
        });

        // 模态框关闭按钮
        modalClose.addEventListener('click', function(e) {
            e.stopPropagation();
            closeToolModal();
        });

        // 点击模态框背景关闭
        toolModal.addEventListener('click', function(e) {
            if (e.target === this) {
                closeToolModal();
            }
        });

        // 打开工具按钮（模态框中）- 更新为直接跳转
        openToolBtn.addEventListener('click', function(e) {
            // 让a标签自然跳转，不需要额外处理
        });

        // 添加ESC键关闭模态框
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && toolModal.classList.contains('active')) {
                closeToolModal();
            }
        });
    }

    // 获取分类名称
    function getCategoryName(category) {
        const categoryNames = {
            'exchange': '转换工具',
            'cut': '剪裁工具',
            'make': '绘制工具',
        };
        return categoryNames[category] || '其他工具';
    }

    // 初始化页面
    document.addEventListener('DOMContentLoaded', initPage);

    //禁止右键
    document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
        console.log('右键已被禁用');
        return false;
    });

    // 禁止选择文本（可选，防止用户复制内容）
    document.addEventListener('selectstart', function(e) {
        e.preventDefault();
        return false;
    });

    // 禁止拖拽图片（可选，防止用户拖拽保存图片）
    document.addEventListener('dragstart', function(e) {
        if (e.target.tagName === 'IMG') {
            e.preventDefault();
            return false;
        }
    });

    // 禁止F12开发者工具（简单版本，但容易被绕过）
    document.addEventListener('keydown', function(e) {
        // 禁用F12
        if (e.key === 'F12') {
            e.preventDefault();
            console.log('F12已被禁用');
            return false;
        }
        // 禁用Ctrl+Shift+I (Chrome开发者工具)
        if (e.ctrlKey && e.shiftKey && e.key === 'I') {
            e.preventDefault();
            console.log('Ctrl+Shift+I已被禁用');
            return false;
        }
        // 禁用Ctrl+Shift+J (Chrome控制台)
        if (e.ctrlKey && e.shiftKey && e.key === 'J') {
            e.preventDefault();
            console.log('Ctrl+Shift+J已被禁用');
            return false;
        }
        // 禁用Ctrl+U (查看源代码)
        if (e.ctrlKey && e.key === 'u') {
            e.preventDefault();
            console.log('Ctrl+U已被禁用');
            return false;
        }
    });
</script>
</body>
</html>